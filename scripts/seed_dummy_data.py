"""ê³µí„° ë”ë¯¸ ë°ì´í„° ì‹œë“œ ìŠ¤í¬ë¦½íŠ¸ - ìŠ¤í¬ë¦°ìƒ·ìš©"""
import json
import urllib.request
import uuid
import random
from datetime import datetime, timedelta

BASE_URL = "https://lvqgmcrwdkmcgqkwkdlq.supabase.co/rest/v1"
SRK = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2cWdtY3J3ZGttY2dxa3drZGxxIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MTkyOTczMCwiZXhwIjoyMDg3NTA1NzMwfQ.qnVmLLxsUoFV-gAkcBjOM2ai1wWycFlWHrP9oBBkgRw"

SEOUL_ID = "a1747338-b9ed-4e7e-aa1b-6606766b0486"
MASTER_ID = "eee90e1e-d099-485b-a2fc-981b3bbb1b5d"

# ë”ë¯¸ ìœ ì € ìƒì„± (auth.usersì— ì§ì ‘ ë„£ì§€ ì•Šê³ , postsì˜ author_idë§Œ ë‹¤ì–‘í•˜ê²Œ)
FAKE_USER_IDS = [str(uuid.uuid4()) for _ in range(8)]
ALL_AUTHORS = [MASTER_ID] + FAKE_USER_IDS

# ê²Œì‹œê¸€ ë°ì´í„° - ì‹¤ì œ ê³µë¬´ì› ì»¤ë®¤ë‹ˆí‹° ëŠë‚Œ
POSTS = [
    # ììœ  (free)
    {
        "tag": "free",
        "title": "ì˜¤ëŠ˜ ì ì‹¬ ë­ ë“œì…¨ë‚˜ìš”?",
        "content": "êµ¬ë‚´ì‹ë‹¹ ë©”ë‰´ê°€ ë˜ ì¹´ë ˆì…ë‹ˆë‹¤... ì´ë²ˆ ì£¼ë§Œ ë²Œì¨ ë‘ ë²ˆì§¸ì¸ë° ë‹¤ë¥¸ ë¶„ë“¤ì€ ì ì‹¬ ì–´ë–»ê²Œ í•´ê²°í•˜ì‹œë‚˜ìš”? ë°–ì— ë‚˜ê°€ìë‹ˆ ì‹œê°„ë„ ì—†ê³  ë„ì‹œë½ ì‹¸ì˜¤ìë‹ˆ ê·€ì°®ê³ ã… ",
        "view_count": 156, "like_count": 23, "comment_count": 8,
    },
    {
        "tag": "free",
        "title": "í‡´ê·¼ í›„ ìê¸°ê³„ë°œ ë­ í•˜ì‹œë‚˜ìš”",
        "content": "ìš”ì¦˜ í‡´ê·¼í•˜ë©´ ë„ˆë¬´ í”¼ê³¤í•´ì„œ ì•„ë¬´ê²ƒë„ ëª»í•˜ê² ì–´ìš”. ê·¸ë˜ë„ ë­”ê°€ í•˜ê³  ì‹¶ì€ë° ë‹¤ë¥¸ ë¶„ë“¤ì€ í‡´ê·¼ í›„ì— ì–´ë–¤ ìê¸°ê³„ë°œ í•˜ì‹œëŠ”ì§€ ê¶ê¸ˆí•©ë‹ˆë‹¤. ìš´ë™? ê³µë¶€? ìê²©ì¦?",
        "view_count": 234, "like_count": 41, "comment_count": 15,
    },
    {
        "tag": "free",
        "title": "ë²šê½ƒ ì‹œì¦Œ ì—°ì°¨ ì“¸ ì‚¬ëŒ +1",
        "content": "ë‹¤ìŒ ì£¼ë¶€í„° ë²šê½ƒ í•€ë‹¤ëŠ”ë° ì—°ì°¨ ì“°ê³  ê½ƒêµ¬ê²½ ê°€ê³  ì‹¶ë„¤ìš”. ì˜¬í•´ëŠ” ê¼­ ì—¬ì˜ë„ ê°€ë³´ë ¤êµ¬ìš”. ì‘ë…„ì—ëŠ” ì—…ë¬´ ë•Œë¬¸ì— ë†“ì³¤ëŠ”ë°...",
        "view_count": 89, "like_count": 35, "comment_count": 4,
    },
    {
        "tag": "free",
        "title": "ê³µë¬´ì› í•˜ê¸¸ ì˜í–ˆë‹¤ ì‹¶ì€ ìˆœê°„",
        "content": "ì˜¤ëŠ˜ ì¹œêµ¬ë“¤ ë§Œë‚¬ëŠ”ë° ë‹¤ë“¤ íšŒì‚¬ ì•¼ê·¼ì— ì‹œë‹¬ë¦¬ê³  ìˆë”ë¼êµ¬ìš”. ë¬¼ë¡  ìš°ë¦¬ë„ ë°”ì˜ì§€ë§Œ ê·¸ë˜ë„ ì•ˆì •ì ì¸ ê±´ í™•ì‹¤í•œ ê²ƒ ê°™ì•„ìš”. ì—¬ëŸ¬ë¶„ì€ ì–¸ì œ ì˜í–ˆë‹¤ ì‹¶ìœ¼ì…¨ë‚˜ìš”?",
        "view_count": 412, "like_count": 67, "comment_count": 22,
    },
    # ì§ˆë¬¸ (question)
    {
        "tag": "question",
        "title": "ìŠ¹ì§„ ì‹œí—˜ ì¤€ë¹„ ì–´ë–»ê²Œ í•˜ì…¨ë‚˜ìš”?",
        "content": "ì˜¬í•´ 7ê¸‰ ìŠ¹ì§„ ì‹œí—˜ ì¤€ë¹„í•˜ë ¤ê³  í•˜ëŠ”ë° ì„ ë°°ë‹˜ë“¤ ì¡°ì–¸ ë¶€íƒë“œë¦½ë‹ˆë‹¤. ê¸°ì¶œë¬¸ì œ ìœ„ì£¼ë¡œ í•˜ë©´ ë˜ë‚˜ìš”? ì•„ë‹ˆë©´ ë³„ë„ í•™ì›ì„ ë‹¤ë…€ì•¼ í• ê¹Œìš”? ì—…ë¬´í•˜ë©´ì„œ ì¤€ë¹„í•˜ê¸°ê°€ ì‰½ì§€ ì•Šë„¤ìš”.",
        "view_count": 287, "like_count": 18, "comment_count": 12,
    },
    {
        "tag": "question",
        "title": "íƒ€ ë¶€ì„œ ì „ë³´ ì‹ ì²­ ê²½í—˜ ìˆìœ¼ì‹  ë¶„?",
        "content": "í˜„ì¬ ë¶€ì„œì—ì„œ 3ë…„ì§¸ì¸ë° ë‹¤ë¥¸ ë¶€ì„œë¡œ ì˜®ê¸°ê³  ì‹¶ìŠµë‹ˆë‹¤. ì „ë³´ ì‹ ì²­ ì ˆì°¨ê°€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”? ê·¸ë¦¬ê³  ì‹¤ì œë¡œ ì›í•˜ëŠ” ë¶€ì„œë¡œ ì˜ ê°€ê²Œ ë˜ë‚˜ìš”?",
        "view_count": 178, "like_count": 12, "comment_count": 9,
    },
    {
        "tag": "question",
        "title": "ì¬íƒê·¼ë¬´ ê°€ëŠ¥í•œ ë¶€ì„œê°€ ìˆë‚˜ìš”?",
        "content": "ì½”ë¡œë‚˜ ë•ŒëŠ” ì¬íƒë„ í–ˆì—ˆëŠ”ë° ìš”ì¦˜ì€ ì „ë©´ ì¶œê·¼ì´ì–ì•„ìš”. í˜¹ì‹œ ì•„ì§ë„ ì¬íƒê·¼ë¬´ê°€ ê°€ëŠ¥í•œ ë¶€ì„œë‚˜ ì—…ë¬´ê°€ ìˆì„ê¹Œìš”? IT ìª½ì€ ê°€ëŠ¥í•˜ë‹¤ê³  ë“¤ì—ˆëŠ”ë°...",
        "view_count": 203, "like_count": 28, "comment_count": 7,
    },
    # ì •ë³´ (info)
    {
        "tag": "info",
        "title": "2026ë…„ ê³µë¬´ì› ë´‰ê¸‰í‘œ ì •ë¦¬",
        "content": "ì˜¬í•´ ë´‰ê¸‰ ì¸ìƒë¥  3.3% í™•ì •ëìŠµë‹ˆë‹¤. í˜¸ë´‰ë³„ë¡œ ì •ë¦¬í•´ë´¤ì–´ìš”.\n\n5ê¸‰ 1í˜¸ë´‰: 2,014,800ì›\n6ê¸‰ 1í˜¸ë´‰: 1,802,400ì›\n7ê¸‰ 1í˜¸ë´‰: 1,648,100ì›\n8ê¸‰ 1í˜¸ë´‰: 1,537,500ì›\n9ê¸‰ 1í˜¸ë´‰: 1,432,600ì›\n\nìì„¸í•œ ê±´ ì¸ì‚¬í˜ì‹ ì²˜ í™ˆí˜ì´ì§€ ì°¸ê³ í•˜ì„¸ìš”!",
        "view_count": 1523, "like_count": 89, "comment_count": 18,
    },
    {
        "tag": "info",
        "title": "ë§ì¶¤í˜• ë³µì§€í¬ì¸íŠ¸ ì‚¬ìš© ê¿€íŒ",
        "content": "ë³µì§€í¬ì¸íŠ¸ ì—°ë§ì— ì†Œë©¸ë˜ë‹ˆê¹Œ ë¯¸ë¦¬ ì“°ì„¸ìš”! ê±´ê°•ê²€ì§„, ìê¸°ê³„ë°œ, ì—¬í–‰ ë“±ì— ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. ì €ëŠ” ì˜¬í•´ ì•ˆê²½ ìƒˆë¡œ ë§ì¶”ê³  ì¹˜ê³¼ ì¹˜ë£Œ ë°›ì•˜ì–´ìš”. ì˜ìˆ˜ì¦ ê¼­ ì±™ê¸°ì„¸ìš”~",
        "view_count": 678, "like_count": 56, "comment_count": 11,
    },
    {
        "tag": "info",
        "title": "ê³µë¬´ì› ëŒ€ì¶œ ê¸ˆë¦¬ ë¹„êµ (2026ë…„ 2ì›”)",
        "content": "ê³µë¬´ì› ì‹ ìš©ëŒ€ì¶œ ê¸ˆë¦¬ ë¹„êµí•´ë´¤ìŠµë‹ˆë‹¤.\n\n- í•˜ë‚˜ì€í–‰: ì—° 3.2%\n- êµ­ë¯¼ì€í–‰: ì—° 3.4%\n- ì‹ í•œì€í–‰: ì—° 3.3%\n- ê³µë¬´ì›ì—°ê¸ˆê³µë‹¨: ì—° 2.8%\n\nê³µë¬´ì›ì—°ê¸ˆê³µë‹¨ì´ ê°€ì¥ ì €ë ´í•˜ë„¤ìš”. í•œë„ëŠ” ì—°ë´‰ì˜ 1.5ë°°ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
        "view_count": 892, "like_count": 72, "comment_count": 14,
    },
    # ìœ ë¨¸ (humor)
    {
        "tag": "humor",
        "title": "ì˜¤ëŠ˜ì˜ ë¯¼ì› ë ˆì „ë“œ.jpg",
        "content": "ë¯¼ì›ì¸: \"ì œê°€ ë‚¸ ì„¸ê¸ˆì´ ì–¼ë§Œë° ì´ëŸ° ì„œë¹„ìŠ¤ë¥¼ ë°›ì•„ì•¼ í•©ë‹ˆê¹Œ!\"\në‚˜: (ì†ìœ¼ë¡œ) ì €ë„ ì„¸ê¸ˆ ë‚´ëŠ”ë°ìš”...\n\në§¤ì¼ ìƒˆë¡œìš´ ë ˆì „ë“œê°€ íƒ„ìƒí•˜ëŠ” ë¯¼ì›ì‹¤ì…ë‹ˆë‹¤ ã…‹ã…‹",
        "view_count": 567, "like_count": 98, "comment_count": 25,
    },
    {
        "tag": "humor",
        "title": "ê²°ì¬ë¼ì¸ì´ 7ë‹¨ê³„ì¸ ê±´ì— ëŒ€í•˜ì—¬",
        "content": "ë‹´ë‹¹ â†’ ì£¼ë¬´ê´€ â†’ íŒ€ì¥ â†’ ê³¼ì¥ â†’ êµ­ì¥ â†’ ë¶€ì‹œì¥ â†’ ì‹œì¥\n\nê°„ë‹¨í•œ ê³µë¬¸ í•˜ë‚˜ ë³´ë‚´ëŠ”ë° ê²°ì¬ê°€ ì¼ì£¼ì¼ ê±¸ë¦½ë‹ˆë‹¤. ê³¼ì¥ë‹˜ì´ ì¶œì¥ ê°€ì‹œë©´ 2ì£¼ìš” ã…‹ã…‹ã…‹ ì´ëŸ¬ë‹¤ ê³µë¬¸ ë³´ë‚´ê¸° ì „ì— í–‰ì‚¬ê°€ ëë‚˜ê² ì–´ìš”",
        "view_count": 445, "like_count": 87, "comment_count": 19,
    },
    {
        "tag": "humor",
        "title": "ê³µë¬´ì› 3ëŒ€ ê±°ì§“ë§",
        "content": "1. ì´ê±° ê¸ˆë°© ëë‚˜ìš”\n2. ì˜¬í•´ëŠ” ì•¼ê·¼ ì—†ì„ ê±°ì˜ˆìš”\n3. ë‚´ë…„ì—ëŠ” ì¸ì› ì¶©ì›í•´ì¤„ê²Œìš”\n\nì„¸ ë²ˆì§¸ê°€ ì œì¼ ì•„í”•ë‹ˆë‹¤... ë§¤ë…„ ë“£ëŠ” ë§ì¸ë° í•œ ë²ˆë„ ì‹¤í˜„ëœ ì ì´ ì—†ì–´ìš” ã…‹ã…‹",
        "view_count": 723, "like_count": 112, "comment_count": 31,
    },
    {
        "tag": "free",
        "title": "ìƒˆë¡œ ë¶€ì„í•œ ê³¼ì¥ë‹˜ì´ ì¢‹ì€ ë¶„ì´ì…¨ìœ¼ë©´",
        "content": "ë‹¤ìŒ ë‹¬ì— ê³¼ì¥ë‹˜ì´ ë°”ë€Œì‹ ë‹¤ê³  í•˜ëŠ”ë° ì œë°œ ì¢‹ì€ ë¶„ì´ ì˜¤ì…¨ìœ¼ë©´ ì¢‹ê² ì–´ìš”. í˜„ì¬ ê³¼ì¥ë‹˜ë„ ì¢‹ìœ¼ì‹  ë¶„ì´ê¸´ í•œë°... ì›Œë¼ë°¸ ì¤‘ì‹œí•˜ëŠ” ë¶„ì´ë©´ ìµœê³ ê² ë‹¤",
        "view_count": 198, "like_count": 33, "comment_count": 6,
    },
    {
        "tag": "question",
        "title": "ê³µë¬´ì› í•´ì™¸ì—¬í–‰ ì‹ ê³  ì•ˆ í•˜ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?",
        "content": "ì´ë²ˆ ì—¬ë¦„ì— ì¼ë³¸ ì—¬í–‰ ê³„íš ì¤‘ì¸ë° í•´ì™¸ì—¬í–‰ ì‹ ê³  ì ˆì°¨ê°€ ë²ˆê±°ë¡­ë„¤ìš”. í˜¹ì‹œ ì•ˆ í•˜ê³  ê°”ë‹¤ê°€ ê±¸ë¦¬ë©´ ì§•ê³„ ëŒ€ìƒì¸ê°€ìš”? ê²½í—˜ ìˆìœ¼ì‹  ë¶„ ê³„ì‹œë©´ ì•Œë ¤ì£¼ì„¸ìš”.",
        "view_count": 341, "like_count": 15, "comment_count": 13,
    },
    {
        "tag": "info",
        "title": "ì—°ê°€ë³´ìƒë¹„ ê³„ì‚° ë°©ë²• ì •ë¦¬",
        "content": "ì—°ê°€ë³´ìƒë¹„ëŠ” ë¯¸ì‚¬ìš© ì—°ê°€ì¼ìˆ˜ Ã— (ë³¸ë´‰ Ã· 30)ìœ¼ë¡œ ê³„ì‚°í•©ë‹ˆë‹¤.\n\nì˜ˆì‹œ: 7ê¸‰ 5í˜¸ë´‰ ê¸°ì¤€\n- ë³¸ë´‰: 2,100,000ì›\n- ë¯¸ì‚¬ìš© ì—°ê°€: 5ì¼\n- ë³´ìƒë¹„: 5 Ã— (2,100,000 Ã· 30) = 350,000ì›\n\nì—°ë§ì— ì—°ê°€ ëª» ì“°ì‹  ë¶„ë“¤ ì°¸ê³ í•˜ì„¸ìš”!",
        "view_count": 456, "like_count": 44, "comment_count": 8,
    },
]

# ëŒ“ê¸€ ë°ì´í„°
COMMENTS_MAP = {
    "ì˜¤ëŠ˜ ì ì‹¬ ë­ ë“œì…¨ë‚˜ìš”?": [
        "ì €ë„ ì¹´ë ˆ ì§ˆë ¸ì–´ìš”ã…  í¸ì˜ì  ë„ì‹œë½ì´ ë‚˜ì€ ë“¯",
        "ê·¼ì²˜ì— ê´œì°®ì€ ë°±ë°˜ì§‘ ìˆì–´ì„œ ê±°ê¸° ê°€ìš”",
        "êµ¬ë‚´ì‹ë‹¹ ê°œì„  ê±´ì˜ ë„£ì–´ë³´ì„¸ìš”!",
        "ì €ëŠ” ê·¸ëƒ¥ ì»µë¼ë©´ì´ìš”... ì‹œê°„ì´ ì—†ì–´ì„œ",
    ],
    "í‡´ê·¼ í›„ ìê¸°ê³„ë°œ ë­ í•˜ì‹œë‚˜ìš”": [
        "ì €ëŠ” í‡´ê·¼ í›„ í—¬ìŠ¤ì¥ ë‹¤ë‹ˆê³  ìˆì–´ìš”. ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œì— ìµœê³ !",
        "í–‰ì •ì‚¬ ìê²©ì¦ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤. ì£¼ë§ì— ì£¼ë¡œ ê³µë¶€í•´ìš”",
        "ìœ íŠœë¸Œë¡œ ì˜ì–´ ê³µë¶€ ì¤‘ì¸ë° ê¾¸ì¤€íˆ í•˜ê¸°ê°€ í˜ë“œë„¤ìš”",
        "ì†”ì§íˆ ë„·í”Œë¦­ìŠ¤ê°€ ìê¸°ê³„ë°œì…ë‹ˆë‹¤ ã…‹ã…‹",
        "ì €ëŠ” ì½”ë”© ë°°ìš°ê³  ìˆì–´ìš”. íŒŒì´ì¬ ì¬ë°Œë”ë¼êµ¬ìš”",
    ],
    "ê³µë¬´ì› í•˜ê¸¸ ì˜í–ˆë‹¤ ì‹¶ì€ ìˆœê°„": [
        "ì—°ê¸ˆ ìƒê°í•˜ë©´ ë²„í‹¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤",
        "ëª…ì ˆ ë³´ë„ˆìŠ¤ ë‚˜ì˜¬ ë•Œìš” ã…‹ã…‹",
        "ì¹œêµ¬ë“¤ êµ¬ì¡°ì¡°ì • ë‹¹í•  ë•Œ... ë¯¸ì•ˆí•˜ì§€ë§Œ ì•ˆì •ê° ëŠê¼ˆì–´ìš”",
        "ìœ¡ì•„íœ´ì§ ììœ ë¡­ê²Œ ì“¸ ìˆ˜ ìˆì„ ë•Œ!",
        "í‡´ê·¼ì‹œê°„ ë”± ë§ì¶°ì„œ ë‚˜ê°ˆ ë•Œ (ë¶€ì„œë°”ì´ ë¶€ì„œ)",
    ],
    "ìŠ¹ì§„ ì‹œí—˜ ì¤€ë¹„ ì–´ë–»ê²Œ í•˜ì…¨ë‚˜ìš”?": [
        "ê¸°ì¶œ 3íšŒë…ì´ë©´ ì¶©ë¶„í•©ë‹ˆë‹¤. ë²”ìœ„ê°€ ë„“ì–´ì„œ ê¹Šì´ë³´ë‹¤ëŠ” í­ì„",
        "ìŠ¤í„°ë”” ê·¸ë£¹ ë§Œë“¤ì–´ì„œ ê°™ì´ ì¤€ë¹„í•˜ëŠ” ê±° ì¶”ì²œë“œë ¤ìš”",
        "ì¸ê°• ë“¤ìœ¼ë©´ì„œ ì¶œí‡´ê·¼ ì‹œê°„ í™œìš©í–ˆì–´ìš”",
    ],
    "2026ë…„ ê³µë¬´ì› ë´‰ê¸‰í‘œ ì •ë¦¬": [
        "ì •ë¦¬ ê°ì‚¬í•©ë‹ˆë‹¤! ë¶ë§ˆí¬ í•´ë‘˜ê²Œìš”",
        "3.3%... ë¬¼ê°€ ìƒìŠ¹ë¥  ìƒê°í•˜ë©´ ì‹¤ì§ˆì ìœ¼ë¡œëŠ” ì¤„ì–´ë“  ê±° ì•„ë‹Œê°€ìš”",
        "ê·¸ë˜ë„ ì˜¬ëìœ¼ë‹ˆ ê°ì‚¬í•©ë‹ˆë‹¤ ã… ã… ",
        "ì„±ê³¼ê¸‰ì€ ì–¸ì œ ë‚˜ì˜¤ë‚˜ìš”?",
    ],
    "ì˜¤ëŠ˜ì˜ ë¯¼ì› ë ˆì „ë“œ.jpg": [
        "ã…‹ã…‹ã…‹ã…‹ ê³µê° 100%",
        "ë¯¼ì›ì‹¤ ê·¼ë¬´í•˜ì‹œëŠ” ë¶„ë“¤ ì§„ì§œ ì¡´ê²½í•©ë‹ˆë‹¤",
        "ì €ë„ ë¹„ìŠ·í•œ ê²½í—˜ ìˆì–´ìš”... ì„¸ê¸ˆ ì–˜ê¸°ëŠ” í´ë˜ì‹ì´ì£ ",
        "ë¯¼ì›ì‹¤ 3ë…„ì°¨ì¸ë° ì´ì œ ì›ƒìœ¼ë©´ì„œ ëŒ€ì‘í•©ë‹ˆë‹¤ ã…‹",
        "ë©˜íƒˆ ê´€ë¦¬ê°€ ì œì¼ ì¤‘ìš”í•œ ë¶€ì„œ...",
    ],
    "ê²°ì¬ë¼ì¸ì´ 7ë‹¨ê³„ì¸ ê±´ì— ëŒ€í•˜ì—¬": [
        "ìš°ë¦¬ëŠ” 5ë‹¨ê³„ì¸ë°ë„ í˜ë“ ë° 7ë‹¨ê³„ë¼ë‹ˆ ã„·ã„·",
        "ì „ìê²°ì¬ ì‹œìŠ¤í…œ ë„ì…í•˜ê³  ì¢€ ë‚˜ì•„ì§€ì§€ ì•Šì•˜ë‚˜ìš”?",
        "ê³¼ì¥ë‹˜ ì¶œì¥ = ì—…ë¬´ ì˜¬ìŠ¤í†± ê³µê°í•©ë‹ˆë‹¤",
    ],
    "ê³µë¬´ì› 3ëŒ€ ê±°ì§“ë§": [
        "4ë²ˆ ì¶”ê°€ìš”: 'ì´ë²ˆ ì¸ì‚¬ì´ë™ ë•Œ ê³ ë ¤í•´ì¤„ê²Œ'",
        "ã…‹ã…‹ã…‹ 3ë²ˆì€ ì§„ì§œ ë§¤ë…„ ë“£ëŠ” ê±° ë§ìŒ",
        "ì €í¬ ë¶€ì„œëŠ” 'ì˜¬í•´ëŠ” ì˜ˆì‚° ë„‰ë„‰í•´'ë„ ì¶”ê°€ã…‹ã…‹",
        "ë„ˆë¬´ ê³µê°ë¼ì„œ ëˆˆë¬¼ì´ ë‚˜ìš” ã…‹ã…‹ã…‹",
        "ì¸ì› ì¶©ì›... ì˜ì›í•œ ë–¡ë°¥",
        "5ë²ˆ: ë‹¤ìŒì—ëŠ” ë§›ìˆëŠ” ê±° ì‚¬ì¤„ê²Œ (íšŒì‹ë¹„ ì—†ìŒ)",
    ],
    "ë§ì¶¤í˜• ë³µì§€í¬ì¸íŠ¸ ì‚¬ìš© ê¿€íŒ": [
        "ê¿€íŒ ê°ì‚¬í•©ë‹ˆë‹¤! ì €ë„ ì•ˆê²½ ë§ì¶°ì•¼ê² ì–´ìš”",
        "ì—¬í–‰ ê²½ë¹„ë¡œ ì“¸ ìˆ˜ ìˆëŠ” ê±´ ëª°ëì–´ìš”",
        "ì—°ë§ì— í•œêº¼ë²ˆì— ì“°ë ¤ë©´ ì •ì‚°ì´ ê·€ì°®ë”ë¼êµ¬ìš”. ë¯¸ë¦¬ë¯¸ë¦¬ ì“°ì„¸ìš”",
    ],
    "ê³µë¬´ì› í•´ì™¸ì—¬í–‰ ì‹ ê³  ì•ˆ í•˜ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?": [
        "ì‹ ê³  ì•ˆ í•˜ë©´ ì§•ê³„ ì‚¬ìœ  ë©ë‹ˆë‹¤. ê¼­ í•˜ì„¸ìš”!",
        "ì ˆì°¨ ë²ˆê±°ë¡œì›Œë„ ê·¸ëƒ¥ í•˜ëŠ” ê²Œ ë§ˆìŒ í¸í•´ìš”",
        "ë³µë¬´ë‹´ë‹¹ì—ê²Œ ë¬¼ì–´ë³´ë©´ ì„œì‹ ì•Œë ¤ì¤„ ê±°ì˜ˆìš”",
    ],
}

def api_call(endpoint, data, method="POST"):
    url = f"{BASE_URL}/{endpoint}"
    body = json.dumps(data).encode("utf-8")
    req = urllib.request.Request(url, data=body, method=method)
    req.add_header("apikey", SRK)
    req.add_header("Authorization", f"Bearer {SRK}")
    req.add_header("Content-Type", "application/json")
    req.add_header("Prefer", "return=representation")
    with urllib.request.urlopen(req) as resp:
        return json.loads(resp.read().decode())

# 1. ê²Œì‹œê¸€ ì‚½ì…
print("=== ê²Œì‹œê¸€ ì‚½ì… ===")
now = datetime.utcnow()
post_ids = {}

for i, post_data in enumerate(POSTS):
    # ì‹œê°„ ë¶„ì‚° (ìµœê·¼ 3ì¼ ì´ë‚´)
    hours_ago = random.randint(1, 72)
    created = now - timedelta(hours=hours_ago, minutes=random.randint(0, 59))

    post = {
        "author_id": random.choice(ALL_AUTHORS),
        "municipality_id": SEOUL_ID,
        "tag": post_data["tag"],
        "title": post_data["title"],
        "content": post_data["content"],
        "view_count": post_data["view_count"],
        "like_count": post_data["like_count"],
        "comment_count": post_data["comment_count"],
        "created_at": created.isoformat(),
        "updated_at": created.isoformat(),
    }

    result = api_call("posts", post)
    post_id = result[0]["id"]
    post_ids[post_data["title"]] = post_id
    tag_label = {"free": "ììœ ", "question": "ì§ˆë¬¸", "info": "ì •ë³´", "humor": "ìœ ë¨¸"}
    print(f"  [{tag_label[post_data['tag']]}] {post_data['title'][:25]}... (â™¥{post_data['like_count']} ğŸ’¬{post_data['comment_count']} ğŸ‘{post_data['view_count']})")

# 2. ëŒ“ê¸€ ì‚½ì…
print("\n=== ëŒ“ê¸€ ì‚½ì… ===")
comment_count = 0
for title, comments in COMMENTS_MAP.items():
    post_id = post_ids.get(title)
    if not post_id:
        continue

    for j, content in enumerate(comments):
        hours_ago = random.randint(0, 48)
        created = now - timedelta(hours=hours_ago, minutes=random.randint(0, 59))

        comment = {
            "post_id": post_id,
            "author_id": random.choice(ALL_AUTHORS),
            "content": content,
            "created_at": created.isoformat(),
            "updated_at": created.isoformat(),
        }
        api_call("comments", comment)
        comment_count += 1

print(f"  ì´ {comment_count}ê°œ ëŒ“ê¸€ ì‚½ì… ì™„ë£Œ")

# 3. ì¢‹ì•„ìš” (ë§ˆìŠ¤í„° ê³„ì •ìœ¼ë¡œ ì¼ë¶€ ê¸€ì—)
print("\n=== ì¢‹ì•„ìš” ì‚½ì… ===")
like_count = 0
for title, pid in post_ids.items():
    if random.random() > 0.4:  # 60% í™•ë¥ ë¡œ ì¢‹ì•„ìš”
        like = {
            "post_id": pid,
            "user_id": MASTER_ID,
        }
        try:
            api_call("likes", like)
            like_count += 1
        except Exception:
            pass

print(f"  ë§ˆìŠ¤í„° ê³„ì • ì¢‹ì•„ìš” {like_count}ê°œ")

# 4. ë¶ë§ˆí¬ (ë§ˆìŠ¤í„° ê³„ì •ìœ¼ë¡œ ì¼ë¶€ ê¸€ì—)
print("\n=== ë¶ë§ˆí¬ ì‚½ì… ===")
bookmark_count = 0
for title, pid in post_ids.items():
    if random.random() > 0.7:  # 30% í™•ë¥ ë¡œ ë¶ë§ˆí¬
        bookmark = {
            "post_id": pid,
            "user_id": MASTER_ID,
        }
        try:
            api_call("bookmarks", bookmark)
            bookmark_count += 1
        except Exception:
            pass

print(f"  ë§ˆìŠ¤í„° ê³„ì • ë¶ë§ˆí¬ {bookmark_count}ê°œ")

print(f"\n=== ì™„ë£Œ! ===")
print(f"ê²Œì‹œê¸€ {len(POSTS)}ê°œ, ëŒ“ê¸€ {comment_count}ê°œ, ì¢‹ì•„ìš” {like_count}ê°œ, ë¶ë§ˆí¬ {bookmark_count}ê°œ")
